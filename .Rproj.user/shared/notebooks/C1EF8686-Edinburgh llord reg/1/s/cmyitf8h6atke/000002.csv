"0","# open csv file from FoI request"
"0","df_foi <- as_tibble(read_excel(""data/16177 Response Data.xlsx""))"
"0","# rename cols to remove spaces"
"0","names(df_foi) <- c(""PropertyPostcode"", ""NumberOfProperties"")"
"0","# make id column from row number"
"0","df_foi <- tibble::rowid_to_column(df_foi, ""ID"")"
"0","# make pc8 as uppercase version of original - name to match var in pcode lookup"
"0","df_foi <- mutate(df_foi, "
"0","                 pc8 = toupper(PropertyPostcode))"
"0","       "
"0","# this shows that first two letters in pc8 are always EH"
"0","table(str_sub(df_foi$pc8, 1, 2))"
"1","
"
"1","  EH "
"1","
"
"1","7262 "
"1","
"
"0","# this shows that length of pc8 mostly 7 or 8, but one 9"
"0","table(str_length(df_foi$pc8))"
"1","
"
"1","   7 "
"1","   8 "
"1","   9 "
"1","
"
"1","3797 "
"1","3464 "
"1","   1 "
"1","
"
"0","# identify the case - ""EH16 4 FE"""
"0","subset(df_foi, str_length(pc8) > 8)"
